<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Time and Frequency response · ControlSystems.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../"><img class="logo" src="../../assets/logo.png" alt="ControlSystems.jl logo"/></a><h1>ControlSystems.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../../examples/example/">Design</a></li></ul></li><li><span class="toctext">Guide</span><ul><li><a class="toctext" href="../../man/introduction/">Introduction</a></li><li><a class="toctext" href="../../man/creating_systems/">Creating Systems</a></li></ul></li><li><span class="toctext">Functions</span><ul><li><a class="toctext" href="../constructors/">Constructors</a></li><li><a class="toctext" href="../analysis/">Analysis</a></li><li><a class="toctext" href="../synthesis/">Synthesis</a></li><li class="current"><a class="toctext" href>Time and Frequency response</a><ul class="internal"></ul></li><li><a class="toctext" href="../plotting/">Plotting</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Functions</li><li><a href>Time and Frequency response</a></li></ul><a class="edit-page" href="https://github.com/JuliaControl/ControlSystems.jl/blob/master/docs/src/lib/timefreqresponse.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Time and Frequency response</span><a class="fa fa-bars" href="#"></a></div></header><ul><li><a href="#Base.step"><code>Base.step</code></a></li><li><a href="#ControlSystems.bode"><code>ControlSystems.bode</code></a></li><li><a href="#ControlSystems.evalfr"><code>ControlSystems.evalfr</code></a></li><li><a href="#ControlSystems.freqresp"><code>ControlSystems.freqresp</code></a></li><li><a href="#ControlSystems.impulse"><code>ControlSystems.impulse</code></a></li><li><a href="#ControlSystems.lsim"><code>ControlSystems.lsim</code></a></li><li><a href="#ControlSystems.nyquist"><code>ControlSystems.nyquist</code></a></li></ul><h1><a class="nav-anchor" id="Time-and-Frequency-response-1" href="#Time-and-Frequency-response-1">Time and Frequency response</a></h1><p>Any <code>TransferFunction</code> can be evaluated at a point using <code>F(s)</code>, <code>F(omega, true)</code>, <code>F(z, false)</code></p><ul><li><code>F(s)</code> evaluates the continuous-time transfer function <code>F</code> at <code>s</code>.</li><li><code>F(omega,true)</code> evaluates the discrete-time transfer function <code>F</code> at <code>exp(i*Ts*omega)</code></li><li><code>F(z,false)</code> evaluates the discrete-time transfer function <code>F</code> at <code>z</code></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ControlSystems.bode" href="#ControlSystems.bode"><code>ControlSystems.bode</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>mag, phase, w = bode(sys[, w])</code></p><p>Compute the magnitude and phase parts of the frequency response of system <code>sys</code> at frequencies <code>w</code></p><p><code>mag</code> and <code>phase</code> has size <code>(length(w), ny, nu)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/freqresp.jl#L99-L105">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ControlSystems.evalfr" href="#ControlSystems.evalfr"><code>ControlSystems.evalfr</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>evalfr(sys, x)</code> Evaluate the transfer function of the LTI system sys at the complex number s=x (continuous-time) or z=x (discrete-time).</p><p>For many values of <code>x</code>, use <code>freqresp</code> instead.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/freqresp.jl#L50-L55">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ControlSystems.freqresp" href="#ControlSystems.freqresp"><code>ControlSystems.freqresp</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p>sys_fr = freqresp(sys, w)</p><p>Evaluate the frequency response of a linear system</p><p><code>w -&gt; C*((iw*im -A)^-1)*B + D</code></p><p>of system <code>sys</code> over the frequency vector <code>w</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/freqresp.jl#L1-L8">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ControlSystems.impulse" href="#ControlSystems.impulse"><code>ControlSystems.impulse</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>y, t, x = impulse(sys[, Tf])</code> or <code>y, t, x = impulse(sys[, t])</code></p><p>Calculate the impulse response of system <code>sys</code>. If the final time <code>Tf</code> or time vector <code>t</code> is not provided, one is calculated based on the system pole locations.</p><p><code>y</code> has size <code>(length(t), ny, nu)</code>, <code>x</code> has size <code>(length(t), nx, nu)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/timeresp.jl#L34-L41">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ControlSystems.lsim" href="#ControlSystems.lsim"><code>ControlSystems.lsim</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>y, t, x = lsim(sys, u, t; x0, method])</code></p><p><code>y, t, x, uout = lsim(sys, u::Function, t; x0, method)</code></p><p>Calculate the time response of system <code>sys</code> to input <code>u</code>. If <code>x0</code> is ommitted, a zero vector is used.</p><p><code>y</code>, <code>x</code>, <code>uout</code> has time in the first dimension. Initial state <code>x0</code> defaults to zero.</p><p>Continuous time systems are simulated using an ODE solver if <code>u</code> is a function. If <code>u</code> is an array, the system is discretized before simulation. For a lower level inteface, see <code>?Simulator</code> and <code>?solve</code></p><p><code>u</code> can be a function or a matrix/vector of precalculated control signals. If <code>u</code> is a function, then <code>u(x,i)</code> (<code>u(x,t)</code>) is called to calculate the control signal every iteration (time instance used by solver). This can be used to provide a control law such as state feedback <code>u(x,t) = -L*x</code> calculated by <code>lqr</code>. To simulate a unit step, use <code>(x,i)-&gt; 1</code>, for a ramp, use <code>(x,i)-&gt; i*h</code>, for a step at <code>t=5</code>, use (x,i)-&gt; (i*h &gt;= 5) etc.</p><p>Usage example:</p><pre><code class="language-julia">using LinearAlgebra # For identity matrix I
using Plots

A = [0 1; 0 0]
B = [0;1]
C = [1 0]
sys = ss(A,B,C,0)
Q = I
R = I
L = lqr(sys,Q,R)

u(x,t) = -L*x # Form control law,
t=0:0.1:5
x0 = [1,0]
y, t, x, uout = lsim(sys,u,t,x0=x0)
plot(t,x, lab=[&quot;Position&quot; &quot;Velocity&quot;], xlabel=&quot;Time [s]&quot;)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/timeresp.jl#L73-L108">source</a><div><div><pre><code class="language-none">`y, t, x = lsim(sys::DelayLtiSystem, u, t::AbstractArray{&lt;:Real}; x0=fill(0.0, nstates(sys)), alg=MethodOfSteps(Tsit5()), kwargs...)`

Simulate system `sys`, over time `t`, using input signal `u`, with initial state `x0`, using method `alg` .

Arguments:

`t`: Has to be an `AbstractVector` with equidistant time samples (`t[i] - t[i-1]` constant)
`u`: Function to determine control signal `ut` at a time `t`, on any of the following forms:
    Can be a constant `Number` or `Vector`, interpreted as `ut .= u` , or
    Function `ut .= u(t)`, or
    In-place function `u(ut, t)`. (Slightly more effienct)
`kwargs...`: These are sent to `solve` from DelayDiffEq.

Returns: times `t`, and `y` and `x` at those times.</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/delay_systems.jl#L25-L40">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="ControlSystems.nyquist" href="#ControlSystems.nyquist"><code>ControlSystems.nyquist</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>re, im, w = nyquist(sys[, w])</code></p><p>Compute the real and imaginary parts of the frequency response of system <code>sys</code> at frequencies <code>w</code></p><p><code>re</code> and <code>im</code> has size <code>(length(w), ny, nu)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/freqresp.jl#L111-L117">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.step" href="#Base.step"><code>Base.step</code></a> — <span class="docstring-category">Function</span>.</div><div><div><p><code>y, t, x = step(sys[, Tf])</code> or <code>y, t, x = step(sys[, t])</code></p><p>Calculate the step response of system <code>sys</code>. If the final time <code>Tf</code> or time vector <code>t</code> is not provided, one is calculated based on the system pole locations.</p><p><code>y</code> has size <code>(length(t), ny, nu)</code>, <code>x</code> has size <code>(length(t), nx, nu)</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaControl/ControlSystems.jl/blob/1a38971a446d147fb951a9b6a2b4e6c259d655da/src/timeresp.jl#L5-L12">source</a></section><footer><hr/><a class="previous" href="../synthesis/"><span class="direction">Previous</span><span class="title">Synthesis</span></a><a class="next" href="../plotting/"><span class="direction">Next</span><span class="title">Plotting</span></a></footer></article></body></html>
